<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
    <!-- Load JS File Scripts -->
    <script type='text/javascript' src='../js/api.js'></script>
    <script type="text/javascript" src="../js/registerUser.js"></script>
    <script type="text/javascript" src='../js/addClassification.js'></script>
    <script type="text/javascript" src="../js/listAllClassifications.js"></script>
    <script type="text/javascript" src="../js/addAlgorithm.js"></script>
    <script type="text/javascript" src="../js/listAllAlgorithms.js"></script>
    <script type="text/javascript" src="../js/addImplementation.js"></script>
    <script type="text/javascript" src="../js/listAllImplementations.js"></script>
    
 	
    
    <!-- Title area -->
    <title>Algorithm Managment System</title>
    <h1><center>Algorithm Management System</center></h1>
    
<style>
.form-popup {
   display: none;
   position: fixed;
   border:3px solid #f1f1f1;
   z-index: 9;
   background: white;
}

</style>
</head>

<body>
    <div>
        <form>
        <h2><center>Register Account</center></h2>
        <hr />
        <center>
          <label for="name"><b>Name</b></label>
          <input
            class="textInput"
            name="userName"     
            type="text"
            placeholder="Enter Name"
            value=""
            id="name"
            required
          />
          <label for="psw"><b>Password</b></label>
          <input
            type="password"
            placeholder="Enter Password"
            name="psw"
            id="psw"
            value=""
            required
          />
          <br></br>
          <button type="submit" class="registerbtn" onclick="registerUser()">Register</button>
          <br></br>
          <label><b>Token: placeholder</b></label>
        </center>
      </form>
    </div>

    <br></br>
    <button type="button" id="addClassificaton" onclick="showClassificationForm()">Add Classification</button>
    <button type="button" id="addAlgorithm" onclick="showAlgorithmForm()">Add Algorithm</button>
    <button type="button" id="addImplementation" onclick="showImplementationForm()">Add Implementation</button>
    <!--not yet functional-->
    <button type="button" id="addProblemInstance" >Add Problem Instance</button>

    <div class="form-popup" id="classificationForm">
        <form class="form-container">
          <h2><center>Describe Classification</center></h2>
          <center>
            <label for="classificationName"><b>Name</b></label>
            <input
              class="textInput"
              name="classificationName"     
              type="text"
              placeholder="Classification Name"
              value=""
              id="classificationName"
              required
            />
            <label for="classificationDesc"><b>Description</b></label>
            <input
              type="text"
              placeholder="Classification Description"
              name="classificationDesc"
              id="classificationDesc"
              value=""
              required
            />      
            <br></br>
            <button type="submit" id="addClassification" onclick="createClassification()" >Submit</button>
            <button type="button" class="cancelClassificationbtn" onclick="closeClassificationForm()">Close</button>
          </center>
        </form>
      </div>

      <div class="form-popup" id="algorithmForm">
        <form class="form-container">
          <h2><center>Describe Algorithm</center></h2>
          <center>
            <label for="a_classificationName"><b>Classification Name</b></label>
            <input
                class="textInput"
              name="a_classificationName"     
              type="text"
              placeholder="Classification Name"
              value=""
              id="a_classificationName"
              required
            />
            <label for="algorithmName"><b> Algorithm Name</b></label>
            <input
                class="textInput"
              name="algorithmName"     
              type="text"
              placeholder="Algorithm Name"
              value=""
              id="algorithmName"
              required
            />
            <label for="algorithmDesc"><b>Description</b></label>
            <input
              type="text"
              placeholder="Algorithm Description"
              name="algorithmDesc"
              id="algorithmDesc"
              value=""
              required
            />      
            <br></br>
            <button type="submit" id="addAlgorithm" onclick="createAlgorithm()" >Submit</button>
            <button type="button" class="cancelAlgorithmbtn" onclick="closeAlgorithmForm()">Close</button>
          </center>
        </form>
      </div>

      <div class="form-popup" id="implementationForm">
        <form class="form-container">
            <h2><center>Describe Implementation</center></h2>
            <center>
            <label for="i_classificationName"><b>Classification Name</b></label>
            <input
              class="textInput"
              name="i_classificationName"     
              type="text"
              placeholder="Classification Name"
              value=""
              id="i_classificationName"
              required
            />
            <label for="i_algorithmName"><b> Algorithm Name</b></label>
            <input
                class="textInput"
              name="i_algorithmName"     
              type="text"
              placeholder="Algorithm Name"
              value=""
              id="i_algorithmName"
              required
            />
            <label for="ImplementationFileName"><b>Implementation File Name</b></label>
            <input
                class="textInput"
                name="ImplementationFileName"     
                type="text"
                placeholder="Implementation File Name"
                value=""
                id="ImplementationFileName"
                required
            />
            <label for="ImplementationDesc"><b>Description</b></label>
            <input
                type="text"
                placeholder="Implementation Description"
                name="ImplementationDesc"
                id="ImplementationDesc"
                value=""
                required
            />  
            <br></br>  
            <label for="ImplementationUpload"><b>Upload Implementation:</b></label>
            <input 
                type="file" 
                id="ImplementationUpload" 
                name="ImplementationUpload"
                value="" 
                required
                onchange="getBase64(event)"
                />  
            <br></br>
            <p id=sourceCode hidden></p>
            <button type="submit" id="addImplementation" onclick="createImplementation(sourceCode.innerHTML)">Submit</button>
            <button type="button" class="cancelImplementationbtn" onclick="closeImplementationForm()">Close</button>
            </center>
        </form>
      </div>
      
      <div id="classificationList"></div>
      
</body>

<script type="text/javascript">
 	
 		document.addEventListener("DOMContentLoaded", function() {
 			
 			function initialize() {
 				refreshClassificationList();
 			}
 			
 			initialize();
 			
 		});
 	
</script>

<script>

/*
function getFileName(filename) {
	document.getElementById("ImplementationUpload").value = filename;
}*/

function getBase64(event) {
	  var selectedFile = event.target.files[0];
	  var reader = new FileReader();
	  reader.readAsDataURL(selectedFile);
	  reader.onload = function(event) {
	  	document.getElementById("sourceCode").innerHTML = event.target.result.split(',')[1];
	  };
}

function showClassificationForm() {
	document.getElementById("classificationForm").style.display = "block";
}
function closeClassificationForm() {
	document.getElementById("classificationForm").style.display = "none";
}
function showAlgorithmForm() {
	document.getElementById("algorithmForm").style.display = "block";
}
function closeAlgorithmForm() {
	document.getElementById("algorithmForm").style.display = "none";
}
function showImplementationForm() {
	document.getElementById("implementationForm").style.display = "block";
}
function closeImplementationForm() {
	document.getElementById("implementationForm").style.display = "none";
}
</script>
</html>
